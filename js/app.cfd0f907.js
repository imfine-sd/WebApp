(function(t){function e(e){for(var a,s,r=e[0],c=e[1],l=e[2],u=0,v=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&v.push(i[s][0]),i[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(v.length)v.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(a=!1)}a&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},i={app:0},o=[];function s(t){return r.p+"js/"+({about:"about"}[t]||t)+"."+{about:"8eeb655f"}[t]+".js"}function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(t){var e=[],n=i[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,a){n=i[t]=[e,a]}));e.push(n[2]=a);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=s(t);var l=new Error;o=function(e){c.onerror=c.onload=null,clearTimeout(u);var n=i[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",l.name="ChunkLoadError",l.type=a,l.request=o,n[1](l)}i[t]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(e)},r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/WebApp/",r.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("85ec"),i=n.n(a);i.a},"089e":function(t,e,n){},"1a08":function(t,e,n){"use strict";var a=n("089e"),i=n.n(a);i.a},"1f17":function(t,e,n){},"22f7":function(t,e,n){"use strict";var a=n("4745"),i=n.n(a);i.a},"231f":function(t,e,n){},2886:function(t,e,n){},"31e3":function(t,e,n){"use strict";var a=n("8482"),i=n.n(a);i.a},"32cf":function(t,e,n){},"36ed":function(t,e,n){t.exports=n.p+"img/mic-32px.e86ba651.svg"},4745:function(t,e,n){},"488b":function(t,e,n){},"4b7f":function(t,e,n){},5412:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app"},[n("router-view"),n("v-snackbar",{attrs:{"multi-line":t.multiLine,centered:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")])],1)},o=[],s=n("ade3"),r=n("5530"),c={},l="IMFINE_SD_STORAGE",u="STR_USER_NAME",d="STR_WEB_RTC_URL",v="STR_WEB_RTC_RECEIVE_STREAM",m="STR_WEB_RTC_SENDER_STREAM",f={STR_USER_NAME:u,STR_WEB_RTC_URL:d,STR_WEB_RTC_RECEIVE_STREAM:v,STR_WEB_RTC_SENDER_STREAM:m},p={STR_USER_NAME:"",STR_WEB_RTC_URL:"5f852799e11d1",STR_WEB_RTC_RECEIVE_STREAM:"",STR_WEB_RTC_SENDER_STREAM:""};function h(){console.log("SD CONFIG START");var t=localStorage.getItem(l);c=JSON.parse(t)}function g(t,e){c=Object(r["a"])(Object(r["a"])({},c),{},Object(s["a"])({},t,e)),localStorage.setItem(l,JSON.stringify(c))}function _(t){var e=c;return e&&e[t]?e[t]:p[t]}var b="EVENT_UPDATE_LIST",C="EVENT_SELECT_TOP_TAP",E="EVENT_SELECT_BOTTOM_TAP",S="EVENT_PUBLISH_WEBRTC",w="EVENT_PLAY_WEBRTC",T="EVENT_SHOW_SNACKBAR",y=new a["a"],R={data:function(){return{multiLine:!0,snackbar:!1,text:"I'm a multi-line snackbar.",timeout:3e3}},created:function(){var t=this;h(),y.$on(T,(function(e){t.snackbar=!0,t.text=e}))},methods:{showError:function(){this.snackbar=!0}}},x=R,O=(n("034f"),n("2877")),P=n("6544"),j=n.n(P),I=n("2db4"),A=Object(O["a"])(x,i,o,!1,null,null,null),N=A.exports;j()(A,{VSnackbar:I["a"]});var D=n("9483");Object(D["a"])("".concat("/WebApp/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});n("d3b7");var k=n("8c4f"),M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"root"},[n("v-container",{attrs:{fluid:""}},[n("h1",[t._v("CMS")]),n("v-row",[n("v-col",{attrs:{cols:"2"}},[n("v-subheader",[t._v("HLS URL :")])],1),n("v-col",{attrs:{cols:"8"}},[n("v-text-field",{attrs:{label:"URL"},model:{value:t.hls_url,callback:function(e){t.hls_url=e},expression:"hls_url"}})],1),n("v-col",{attrs:{cols:"2"}},[n("v-btn",{attrs:{icon:"",outlined:""},on:{click:t.updateHlsUrl}},[n("v-icon",[t._v("mdi-pencil")])],1),n("v-btn",{staticClass:"ml-4",attrs:{icon:"",outlined:""},on:{click:t.updateMessages}},[n("v-icon",[t._v("mdi-refresh")])],1)],1)],1),n("v-row",[n("v-col",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.computed_messages,"items-per-page":20,"sort-by":["time"],"sort-desc":[!0]}})],1)],1)],1)],1)},L=[],B=(n("4160"),n("159b"),n("2f62")),W=n("59ca"),U=(n("66ce"),{apiKey:"AIzaSyBtnFzSNMp30pWM2CNva-U9ZM1sdE8lzts",authDomain:"fir-ca8ad.firebaseapp.com",databaseURL:"https://fir-ca8ad.firebaseio.com",projectId:"fir-ca8ad",storageBucket:"fir-ca8ad.appspot.com",messagingSenderId:"371247898053",appId:"1:371247898053:web:a657c9fb4898a89947bfac",measurementId:"G-BWCDY22QJR"});function V(){return W["database"]().ref("/messages").orderByChild("time").once("value")}function z(t){return W["database"]().ref("/messages").orderByChild("time").limitToLast(t).once("value")}function $(t){return W["database"]().ref("/messages").orderByChild("time").startAt(t+1).once("value")}function H(t,e){var n=W["database"]().ref("/"+t).child("data").push().key,a="/"+n,i={};return i[t+"/"+a]=Object(r["a"])({},e),W["database"]().ref().update(i,(function(t){return t}))}function G(){return W["database"]().ref("/").once("value").then((function(t){var e=t.val()&&t.val().hls_url||"";return e}))}function F(t,e){var n={};return n[t]=e,W["database"]().ref().update(n,(function(t){return t}))}W["initializeApp"](U);var J={data:function(){return{hls_url:"",computed_messages:[],headers:[{text:"Time",align:"end",sortable:!0,value:"date",width:250},{text:"Type",value:"type",sortable:!1,width:120},{text:"User",value:"user",sortable:!1,width:120},{text:"Message",value:"message",sortable:!1}]}},computed:Object(r["a"])({},Object(B["c"])(["getHlsUrl"])),created:function(){var t=this;this.LOAD_HLS_URL().then((function(){t.hls_url=t.getHlsUrl})),this.updateMessages()},methods:Object(r["a"])(Object(r["a"])({},Object(B["b"])(["LOAD_HLS_URL"])),{},{updateHlsUrl:function(){F("hls_url",this.hls_url)},updateMessages:function(){var t=this;this.computed_messages=[],V().then((function(e){e.forEach((function(e){var n=e.val(),a=new Date(n.time).toLocaleString("ko-KR"),i=Object(r["a"])(Object(r["a"])({},n),{},{date:a});t.computed_messages.push(i)}))}))}})},Y=J,K=(n("f6e7"),n("8336")),q=n("62ad"),Q=n("a523"),Z=n("8fea"),X=n("132d"),tt=n("0fd9"),et=n("e0c7"),nt=n("8654"),at=Object(O["a"])(Y,M,L,!1,null,"694b23d0",null),it=at.exports;j()(at,{VBtn:K["a"],VCol:q["a"],VContainer:Q["a"],VDataTable:Z["a"],VIcon:X["a"],VRow:tt["a"],VSubheader:et["a"],VTextField:nt["a"]});var ot,st,rt,ct,lt,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"contents_area",style:t.contents_style,attrs:{id:"root"}},[n("div",{staticClass:"count"},[t._v(t._s(t.h_count))]),t._l(t.obj,(function(e,a){return n(e.component,{key:a,ref:a,refInFor:!0,tag:"component",staticClass:"user_none",attrs:{props_data:e.emoji},on:{end_anim:t.deleteItem}})})),n("VideoView"),n("MenuBar",{staticClass:"menu"}),n("Tabs",{staticClass:"item"})],2)},dt=[],vt=(n("25f0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"area",style:{height:t.v_heith}},[n("v-tabs",{staticClass:"tab_menu",attrs:{"background-color":"primary",dark:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(this.video_items,(function(e){return n("v-tab",{key:e.tab},[t._v(" "+t._s(e)+" ")])})),1),n("v-tabs-items",{attrs:{id:"tab_contents"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(this.video_items,(function(e){return n("v-tab-item",{key:e},[n("div",{staticClass:"tabs",style:{height:t.height}},["HLS"===e?n("HLSVideo"):"RECIVER"===e?n("WebRTCReceiver"):"SENDER"===e?n("WebRTCSender"):t._e()],1)])})),1)],1)}),mt=[],ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"test"},[n("video",{staticClass:"video-js vjs-default-skin vjs-16-9",attrs:{id:"hls-example",controls:""}},[n("source",{ref:"video_source",attrs:{type:"application/x-mpegURL"}})])])},pt=[],ht={data:function(){return{window_width:100,window_height:50}},computed:Object(r["a"])({},Object(B["c"])(["getHlsUrl"])),props:["props_tab"],created:function(){var t=this;this.$store.dispatch("LOAD_HLS_URL").then((function(){t.$refs.video_source.setAttribute("src",t.getHlsUrl),window.videojs("hls-example")}))},methods:{playVideo:function(){}}},gt=ht,_t=(n("6be5"),Object(O["a"])(gt,ft,pt,!1,null,null,null)),bt=_t.exports,Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"root",style:{height:t.v_height}},[n("video",{attrs:{autoplay:"",playsinline:"",muted:"",controls:"",id:"wowza-receiver",type:"module"},domProps:{muted:!0}})])},Et=[],St=(n("fb6a"),n("498a"),n("53ca")),wt=(n("caad"),n("c975"),n("a9e3"),n("4d63"),n("ac1f"),n("2532"),n("466d"),n("5319"),n("1276"),n("2ca0"),window.adapter.browserDetails);function Tt(t,e){var n=t.split(/\r\n/),a="",i=!1;for(var o in n){var s=n[o];s.length<=0||(a+=s,a+="\r\n",0=="a=rtcp-mux".localeCompare(s)&&0==i&&(a+=e,i=!0))}return a}function yt(t,e){var n=t.split(/\r\n/),a="",i=!1,o=!1,s=!1;for(var r in n){var c=n[r];c.length<=0||(c.includes("a=rtcp-rsize")&&(o=!0),c.includes("a=rtcp-mux")&&(s=!0,console.log(s)))}for(var l in n){var u=n[l];a+=u,a+="\r\n",0=="a=rtcp-rsize".localeCompare(u)&&0==i&&1==o&&(a+=e,i=!0),0=="a=rtcp-mux".localeCompare(u)&&1==i&&0==o&&(a+=e,i=!0),0=="a=rtcp-mux".localeCompare(u)&&0==i&&0==o&&(i=!0)}return a}function Rt(t,e){for(var n in ot){var a=ot[n];if(a.includes(t)){if(t.includes("VP9")||t.includes("VP8")){var i="",o=a.split(/\r\n/);for(var s in o){var r=o[s];i+=r,i+="\r\n"}return e.includes("audio")&&(lt=n),e.includes("video")&&(ct=n),i}return e.includes("audio")&&(lt=n),e.includes("video")&&(ct=n),a}}return""}function xt(t){if(t.startsWith("a=rtpmap")||t.startsWith("a=rtcp-fb")||t.startsWith("a=fmtp")){var e=t.split(":");if(e.length>1){var n=e[1].split(" ");if(!isNaN(n[0])&&!n[1].startsWith("http")&&!n[1].startsWith("ur")){var a=ot[n[0]];return a||(a=""),a+=t+"\r\n",ot[n[0]]=a,!1}}}return!0}function Ot(t){var e=new RegExp("a=rtpmap:(\\d+) (\\w+)/(\\d+)"),n=t.match(e);return n&&n.length>=3?n:null}function Pt(t,e){ot=new Object,st="42e01f",rt="opus",ct=-1,lt=-1;var n=t.split(/\r\n/),a="header",i=!1,o="";for(var s in null!=e.videoCodec&&""!==e.videoCodec&&(st=e.videoCodec),null!=e.audioCodec&&""!==e.audioCodec&&(rt=e.audioCodec),n){var r=n[s];if(!(r.length<=0)){var c=xt(r);c&&(o+=r,o+="\r\n")}}for(var l in o=Tt(o,Rt(rt,"audio")),o=yt(o,Rt(st,"video")),t=o,n=t.split(/\r\n/),o="",n){var u=n[l];if(!(u.length<=0)){if("chrome"===wt.browser){var d=void 0;if(0==u.indexOf("m=audio")&&-1!==lt){d=u.split(" "),o+=d[0]+" "+d[1]+" "+d[2]+" "+lt+"\r\n";continue}if(0==u.indexOf("m=video")&&-1!==ct){d=u.split(" "),o+=d[0]+" "+d[1]+" "+d[2]+" "+ct+"\r\n";continue}}if(o+=u,0===u.indexOf("m=audio")?(a="audio",i=!1):0===u.indexOf("m=video")?(a="video",i=!1):0==u.indexOf("a=rtpmap")&&(a="bandwidth",i=!1),"chrome"===wt.browser&&(0===u.indexOf("a=mid:")||0==u.indexOf("a=rtpmap"))&&!i)if(0=="audio".localeCompare(a))void 0!==e.audioBitrate&&(o+="\r\nb=CT:"+e.audioBitrate,o+="\r\nb=AS:"+e.audioBitrate),i=!0;else if(0=="video".localeCompare(a))void 0!==e.videoBitrate&&(o+="\r\nb=CT:"+e.videoBitrate,o+="\r\nb=AS:"+e.videoBitrate,void 0!==e.videoFrameRate&&(o+="\r\na=framerate:"+e.videoFrameRate)),i=!0;else if(0=="bandwidth".localeCompare(a)){var v=void 0;if(v=Ot(u),null!==v){var m=v[2].toLowerCase();0!="vp9".localeCompare(m)&&0!="vp8".localeCompare(m)&&0!="h264".localeCompare(m)&&0!="red".localeCompare(m)&&0!="ulpfec".localeCompare(m)&&0!="rtx".localeCompare(m)||void 0!==e.videoBitrate&&(o+="\r\na=fmtp:"+v[1]+" x-google-min-bitrate="+e.videoBitrate+";x-google-max-bitrate="+e.videoBitrate),0!="opus".localeCompare(m)&&0!="isac".localeCompare(m)&&0!="g722".localeCompare(m)&&0!="pcmu".localeCompare(m)&&0!="pcma".localeCompare(m)&&0!="cn".localeCompare(m)||void 0!==e.audioBitrate&&(o+="\r\na=fmtp:"+v[1]+" x-google-min-bitrate="+e.audioBitrate+";x-google-max-bitrate="+e.audioBitrate)}}if(("firefox"===wt.browser||"safari"===wt.browser)&&0==u.indexOf("c=IN")){if(0=="audio".localeCompare(a)){""!==e.audioBitrate&&(o+="\r\nb=TIAS:"+1e3*Number(e.audioBitrate)+"\r\n",o+="b=AS:"+1e3*Number(e.audioBitrate)+"\r\n",o+="b=CT:"+1e3*Number(e.audioBitrate)+"\r\n");continue}if(0=="video".localeCompare(a)){""!==e.videoBitrate&&(o+="\r\nb=TIAS:"+1e3*Number(e.videoBitrate)+"\r\n",o+="b=AS:"+1e3*Number(e.videoBitrate)+"\r\n",o+="b=CT:"+1e3*Number(e.videoBitrate)+"\r\n");continue}}o+="\r\n"}}return o}function jt(t){var e=t.split(/\r\n/),n="";for(var a in e){var i=e[a];if(0!=i.length){if(i.includes("profile-level-id")){var o=i.substr(i.indexOf("profile-level-id")+17,6),s=Number("0x"+o.substr(0,2)),r=Number("0x"+o.substr(2,2)),c=Number("0x"+o.substr(4,2));s>66&&(s=66,r=224,c=31);var l=("00"+s.toString(16)).slice(-2).toLowerCase()+("00"+r.toString(16)).slice(-2).toLowerCase()+("00"+c.toString(16)).slice(-2).toLowerCase();i=i.replace(o,l)}n+=i,n+="\r\n"}}return n}n("3ca3"),n("ddb0"),n("2b3d");var It=n("d4ec"),At=n("bee2"),Nt=function(){function t(e){Object(It["a"])(this,t),this.mungeSDP=void 0,this.onconnectionstatechange=void 0,this.onstop=void 0,this.onerror=void 0,this.videoElement=void 0,this.sdpURL="",this.repeaterRetryCount=0,this.streamInfo=void 0,this.userData=void 0,this.wsConnection=void 0,this.peerConnection=void 0,this.peerConnectionConfig={iceServers:[]},this.gotIceCandidate=this.gotIceCandidate.bind(this),this.gotDescription=this.gotDescription.bind(this),this.gotRemoteTrack=this.gotRemoteTrack.bind(this),this.doGetAvailableStreams=!1,this.getAvailableStreamsResolve=void 0,this.getAvailableStreamsReject=void 0,e&&this.set(e)}return Object(At["a"])(t,[{key:"set",value:function(t){null!=t.sdpURL&&(this.sdpURL=t.sdpURL),null!=t.videoElement&&(this.videoElement=t.videoElement),null!=t.streamInfo&&(this.streamInfo=t.streamInfo),null!=t.userData&&(this.userData=t.userData),null!=t.mungeSDP&&(this.mungeSDP=t.mungeSDP),null!=t.onconnectionstatechange&&(this.onconnectionstatechange=t.onconnectionstatechange),null!=t.onstop&&(this.onstop=t.onstop),null!=t.onerror&&(this.onerror=t.onerror)}},{key:"gotIceCandidate",value:function(t){t.candidate}},{key:"gotDescription",value:function(t){var e=this;console.log("WowzaPeerConnectionPlay.gotDescription"),this.peerConnection.setLocalDescription(t).then((function(){console.log("sendAnswer"),e.wsConnection.send('{"direction":"play", "command":"sendResponse", "streamInfo":'+JSON.stringify(e.streamInfo)+', "sdp":'+JSON.stringify(t)+', "userData":'+JSON.stringify(e.userData)+"}")})).catch((function(t){return console.log("set description error",t)}))}},{key:"gotRemoteTrack",value:function(t){try{this.videoElement.srcObject=t.streams[0]}catch(e){this.videoElement.src=window.URL.createObjectURL(t.streams[0])}}},{key:"wsConnect",value:function(t){var e=this;console.log("WowzaPeerConnectionPlaywsConnect: "+t);try{this.wsConnection=new WebSocket(t)}catch(i){return void this.errorHandler(i)}function n(){e.wsConnection.send('{"direction":"play", "command":"getOffer", "streamInfo":'+JSON.stringify(e.streamInfo)+', "userData":'+JSON.stringify(e.userData)+"}")}function a(){e.wsConnection.send('{"direction":"play", "command":"getAvailableStreams", "streamInfo":'+JSON.stringify(e.streamInfo)+', "userData":'+JSON.stringify(e.userData)+"}")}this.wsConnection.binaryType="arraybuffer",this.wsConnection.onopen=function(){console.log("WowzaPeerConnectionPlay.onopen"),e.peerConnection=new RTCPeerConnection(e.peerConnectionConfig),e.peerConnection.onicecandidate=e.gotIceCandidate,e.peerConnection.ontrack=e.gotRemoteTrack,e.peerConnection.onconnectionstatechange=function(t){null!=e.onconnectionstatechange&&e.onconnectionstatechange(t)},e.doGetAvailableStreams?a():n()},this.wsConnection.onmessage=function(t){var a=JSON.parse(t.data),i=Number(a["status"]),o=a["command"];if(514==i)e.repeaterRetryCount++,e.repeaterRetryCount<10?setTimeout(n,500):(e.errorHandler({message:"Live stream repeater timeout: "}),e.stop());else if(200!=i)e.errorHandler({message:a["statusDescription"]});else{var s=a["streamInfo"];void 0!==s&&(e.streamInfo.sessionId=s.sessionId);var r=a["sdp"];null!=r&&(null!=e.mungeSDP&&(a.sdp.sdp=e.mungeSDP(a.sdp.sdp)),e.peerConnection.setRemoteDescription(new RTCSessionDescription(a.sdp)).then((function(){return e.peerConnection.createAnswer().then((function(t){return e.gotDescription(t)})).catch((function(t){return e.errorHandler(t)}))})).catch((function(t){return e.errorHandler(t)})));var c=a["iceCandidates"];if(null!=c)for(var l in c)e.peerConnection.addIceCandidate(new RTCIceCandidate(c[l]))}0=="sendResponse".localeCompare(o)&&(null!=e.wsConnection&&e.wsConnection.close(),e.wsConnection=null),0=="getAvailableStreams".localeCompare(o)&&(e.stop(),e.getAvailableStreamsResolve(a))},this.wsConnection.onclose=function(){console.log("wsConnection.onclose")},this.wsConnection.onerror=function(t){e.errorHandler(t)}}},{key:"start",value:function(){console.log("STATRT"),this.repeaterRetryCount=0,this.doGetAvailableStreams=!1,null==this.peerConnection?this.wsConnect(this.sdpURL):console.log("WowzaPeerConnectionPlay.start: peerConnection already in use, not starting")}},{key:"stop",value:function(){null!=this.peerConnection&&this.peerConnection.close(),this.peerConnection=null,null!=this.wsConnection&&this.wsConnection.close(),this.wsConnection=null,this.videoElement.src="",null!=this.onstop&&this.onstop()}},{key:"getAvailableStreams",value:function(){var t=this;return new Promise((function(e,n){t.getAvailableStreamsResolve=e,t.getAvailableStreamsReject=n,t.doGetAvailableStreams=!0,null==t.peerConnection?t.wsConnect(t.sdpURL):n({message:"WowzaPeerConnectionPlay.getAvailableStreams: peerConnection already in use"})}))}},{key:"errorHandler",value:function(t){null!=this.onerror&&this.onerror(t)}}]),t}(),Dt=Nt,kt={connectionState:"stopped",videoElementPlay:void 0,sdpURL:"",streamInfo:{applicationName:"",streamName:"",sessionId:"[empty]"},userData:{param1:"value1"}},Mt=void 0,Lt={},Bt=function(t){return new Promise((function(e){kt=Object(r["a"])(Object(r["a"])({},kt),t),null!=Lt.onStateChanged&&Lt.onStateChanged(kt),e(kt)}))},Wt=function(){return kt},Ut=function(t){null!=t.target&&null!=t.target.connectionState&&Bt({connectionState:t.target.connectionState})},Vt=function(){Bt({connectionState:"stopped"})},zt=function(t){Lt=t},$t=function(t){return new Promise((function(e){var n=Wt(),a=Object(r["a"])({},n.streamInfo),i={};null!=t.videoElementPlay&&(i["videoElementPlay"]=t.videoElementPlay),null!=t.sdpURL&&(i["sdpURL"]=t.sdpURL.trim()),null!=t.applicationName&&(a["applicationName"]=t.applicationName.trim()),null!=t.streamName&&(a["streamName"]=t.streamName.trim()),null!=t.sessionId&&(a["sessionId"]=t.sessionId),null!=t.streamInfo&&(a=Object(r["a"])(Object(r["a"])({},a),t.streamInfo)),i["streamInfo"]=a,null!=t.userData&&(i["userData"]=Object(r["a"])({},t.userData)),Bt(i).then((function(t){e(t)}))}))},Ht=function(){var t=Wt();return Mt=new Dt({sdpURL:t.sdpURL,videoElement:t.videoElementPlay,streamInfo:t.streamInfo,userData:t.userData,mungeSDP:jt,onconnectionstatechange:Ut,onstop:Vt,onerror:Jt}),Mt.getAvailableStreams()},Gt=function(){var t=Wt();Mt=new Dt({sdpURL:t.sdpURL,videoElement:t.videoElementPlay,streamInfo:t.streamInfo,userData:t.userData,mungeSDP:jt,onconnectionstatechange:Ut,onstop:Vt,onerror:Jt}),Mt.start()},Ft=function(){Mt.stop(),Mt=void 0},Jt=function(t){console.log("WowzaWebRTCPlay ERROR:"),console.log(t),null==t.message&&null!=t.target&&console.log("typeof error.target: "+Object(St["a"])(t.target)),null!=Lt.onError&&Lt.onError(t)},Yt={on:zt,set:$t,getState:Wt,getAvailableStreams:Ht,play:Gt,stop:Ft},Kt=Yt;function qt(t,e){var n={settings:{playApplicationName:"live",playSdpURL:"wss://".concat(_(f.STR_WEB_RTC_URL),".streamlock.net/webrtc-session.json"),playStreamName:_(f.STR_WEB_RTC_RECEIVE_STREAM)}},a="play",i=function(t,e,n){v(),Kt.on({onError:t,onStateChanged:function(t){"connected"===t.connectionState?e():n()}}),Kt.set({videoElementPlay:document.getElementById("wowza-receiver")})},o=function(t){s(t).then((function(){Kt.play()}))},s=function(t){n.settings=t;var e={};for(var i in t){var o=i.substring(a.length);o=o[0].toLowerCase()+o.slice(1),e[o]=t[i]}return Kt.set(e)},r=function(){n.playing=!0,d(),console.log("PLAYING STATUS")},c=function(){n.playing=!1,console.log("STOP STATUS")},l=function(t){var e;e=t.message?t.message:t,u(e)},u=function(e){t(e)},d=function(){e()},v=function(){var t=document.getElementById("play_btn");t.addEventListener("click",(function(){o(n.settings)}))},m=function(){setTimeout((function(){o(n.settings)}),2e3)};m(),i(l,r,c)}window.WowzaWebRTCPlay=Kt;var Qt={data:function(){return{v_height:"0px"}},created:function(){var t=9*window.innerWidth/16;this.v_height=t+"px";var e=function(t){y.$emit(T,t)},n=function(){console.log("### onHide")};this.$nextTick((function(){qt(e,n)})),y.$on(w,(function(){console.log("PLAY")}))}},Zt=Qt,Xt=(n("7c44"),Object(O["a"])(Zt,Ct,Et,!1,null,"a178771c",null)),te=Xt.exports,ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"root",style:{height:t.v_height}},[n("video",{attrs:{id:"wowza-sender",autoplay:"",playsinline:"",muted:"",controls:""},domProps:{muted:!0}})])},ne=[],ae=(n("b0c0"),n("d81d"),n("b680"),n("96cf"),n("1da1")),ie=void 0,oe=void 0,se=void 0,re=void 0,ce=void 0,le=void 0,ue={videoBitrate:"",audioBitrate:"",videoFrameRate:"30",videoCodec:"42e01f",audioCodec:"opus"},de=void 0,ve=void 0,me=void 0,fe=void 0,pe={iceServers:[]};pe=null;var he=void 0,ge=void 0;function _e(t){console.log("WowzaPeerConnectionPublish.gotDescription: SDP:");var e=new Object;null!=ue.audioBitrate&&(e.audioBitrate=ue.audioBitrate),null!=ue.videoBitrate&&(e.videoBitrate=ue.videoBitrate),null!=ue.videoFrameRate&&(e.videoFrameRate=ue.videoFrameRate),null!=ue.videoCodec&&(e.videoCodec=ue.videoCodec),null!=ue.audioCodec&&(e.audioCodec=ue.audioCodec),null!=ie&&(t.sdp=ie(t.sdp,e)),console.log("WowzaPeerConnectionPublish.gotDescription: Setting local description SDP: "),fe.setLocalDescription(t).then((function(){return me.send('{"direction":"publish", "command":"sendOffer", "streamInfo":'+JSON.stringify(le)+', "sdp":'+JSON.stringify(t)+', "userData":'+JSON.stringify(de)+"}")})).catch((function(t){var e=Object(r["a"])({message:"Peer connection failed"},t);ye(e)}))}function be(t){return function(){null!=fe&&fe.getStats(null).then(t,(function(t){return console.log(t)}))}}function Ce(t){try{me=new WebSocket(t)}catch(e){return void ye(e)}me.binaryType="arraybuffer",me.onopen=function(){console.log("WowzaPeerConnectionPublish.wsConnection.onopen"),fe=new RTCPeerConnection(pe),he=void 0,ge=void 0,fe.onicecandidate=function(t){null!=t.candidate&&console.log("WowzaPeerConnectionPublish.gotIceCandidate: "+{ice:t.candidate})},fe.onconnectionstatechange=function(t){null!=oe&&oe(t)},fe.onnegotiationneeded=function(){fe.createOffer(_e,ye)};var t=ce.getTracks();for(var e in t){var n=fe.addTrack(t[e],ce);"audio"===t[e].type?ge=n:"video"===t[e].type&&(he=n)}},me.onmessage=function(t){var e=JSON.parse(t.data),n=Number(e["status"]);if(200!=n)we(),ye({message:e["statusDescription"]});else{var a=e["sdp"];if(void 0!==a){var i=new Object;void 0!==ue.audioBitrate&&(i.audioBitrate=ue.audioBitrate),void 0!==ue.videoBitrate&&(i.videoBitrate=ue.videoBitrate),console.log("WowzaPeerConnectionPublish.wsConnection.onmessage: Setting remote description SDP:"),fe.setRemoteDescription(new RTCSessionDescription(a),(function(){}),ye)}var o=e["iceCandidates"];if(void 0!==o)for(var s in o)console.log("WowzaPeerConnectionPublish.wsConnection.iceCandidates: "+o[s]),fe.addIceCandidate(new RTCIceCandidate(o[s]))}},me.onclose=function(){console.log("WowzaPeerConnectionPublish.wsConnection.onclose")},me.onerror=function(e){console.log("wsConnection.onerror"),console.log(e);var n="Websocket connection failed: "+t;console.log(n);var a=Object(r["a"])({message:n},e);we(),ye(a)}}function Ee(t,e){null!=fe&&(console.log(fe),"audio"===t?null!=ge?ge.replaceTrack(e):ge=fe.addTrack(e):"video"===t&&(null!=he?he.replaceTrack(e):he=fe.addTrack(e)))}function Se(t){var e=t.wsURL;ce=t.localStream,null!=t.streamInfo&&(le=t.streamInfo),null!=t.mediaInfo&&(ue=t.mediaInfo),null!=t.userData&&(de=t.userData),null!=t.mungeSDP&&(ie=t.mungeSDP),null!=t.onconnectionstatechange&&(oe=t.onconnectionstatechange),null!=t.onstop&&(se=t.onstop),null!=t.onerror&&(re=t.onerror),null!=t.onstats&&(ve=setInterval(be(t.onstats),5e3)),null==fe?(null!=me&&me.close(),me=null,console.log("WowzaPeerConnectionPublish.start: wsURL:"+e+" streamInfo:"+JSON.stringify(le)),Ce(e)):console.log("WowzaPeerConnectionPublish.start: peerConnection already in use, not starting")}function we(){null!=fe&&fe.close(),fe=void 0,he=void 0,ge=void 0,null!=me&&me.close(),me=void 0,null!=ve&&(clearInterval(ve),ve=void 0),null!=se&&se()}function Te(){return null!=fe}function ye(t){console.trace(),null!=re&&re(t)}var Re={connect:Ce,start:Se,stop:we,isStarted:Te,replaceTrack:Ee};function xe(t){this.context=t,this.instant=0,this.slow=0,this.clip=0,this.script=t.createScriptProcessor(2048,1,1);var e=this;this.script.onaudioprocess=function(t){var n,a=t.inputBuffer.getChannelData(0),i=0,o=0;for(n=0;n<a.length;++n)i+=a[n]*a[n],Math.abs(a[n])>.99&&(o+=1);e.instant=Math.sqrt(i/a.length),e.slow=.95*e.slow+.05*e.instant,e.clip=o/a.length}}xe.prototype.connectToSource=function(t,e){try{this.mic=this.context.createMediaStreamSource(t),this.mic.connect(this.script),this.script.connect(this.context.destination),"undefined"!==typeof e&&e(null)}catch(n){console.error(n),"undefined"!==typeof e&&e(n)}},xe.prototype.stop=function(){this.mic.disconnect(),this.script.disconnect()};var Oe=xe;window.AudioContext=window.AudioContext||window.webkitAudioContext||!1;var Pe={ready:!1,connectionState:"stopped",videoElementPublish:void 0,stream:void 0,isScreenSharing:!1,constraints:{video:{width:{min:"640",ideal:"1280",max:"1920"},height:{min:"360",ideal:"720",max:"1080"},frameRate:"30"},audio:!0},sdpURL:"",streamInfo:{applicationName:"",streamName:"",sessionId:"[empty]"},mediaInfo:{videoBitrate:"",audioBitrate:"",videoFrameRate:"30",videoCodec:"42e01f",audioCodec:"opus"},userData:{param1:"value1"},audioEnabled:!0,videoEnabled:!0,useSoundMeter:!1,cameras:[],microphones:[]},je=void 0,Ie=void 0,Ae={},Ne=function(t){return new Promise((function(e){Pe=Object(r["a"])(Object(r["a"])({},Pe),t),null!=Ae.onStateChanged&&Ae.onStateChanged(Pe),e(Pe)}))},De=function(){return Pe},ke=function(t){Ae=t},Me=function(){var t=Object(ae["a"])(regeneratorRuntime.mark((function t(e){var n,a,i,o,s,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("WowzaWebRTC.set"),console.log(e),n=De(),a=Object(r["a"])({},n.streamInfo),i=Object(r["a"])({},n.mediaInfo),o={},s=!1,null!=e.videoElementPublish&&(o["videoElementPublish"]=e.videoElementPublish),null!=e.useSoundMeter&&(o["useSoundMeter"]=e.useSoundMeter),null!=e.sdpURL&&(o["sdpURL"]=e.sdpURL.trim()),null!=e.applicationName&&(a["applicationName"]=e.applicationName.trim()),null!=e.streamName&&(a["streamName"]=e.streamName.trim()),null!=e.sessionId&&(a["sessionId"]=e.sessionId),null!=e.streamInfo&&(a=Object(r["a"])(Object(r["a"])({},a),e.streamInfo)),o["streamInfo"]=a,null!=e.videoBitrate&&(i.videoBitrate=e.videoBitrate),null!=e.audioBitrate&&(i.audioBitrate=e.audioBitrate),null!=e.videoFrameRate&&(i.videoFrameRate=e.videoFrameRate,o["constraints"]=Object(r["a"])({},n.constraints),"boolean"!==typeof o["constraints"]["video"]&&(""===i.videoFrameRate?delete o["constraints"]["video"]["frameRate"]:o["constraints"]["video"]["frameRate"]=e.videoFrameRate)),null!=e.videoCodec&&(i.videoCodec=e.videoCodec),null!=e.audioCodec&&(i.audioCodec=e.audioCodec),null!=e.mediaInfo&&(i=Object(r["a"])(Object(r["a"])({},i),e.streamInfo)),o["mediaInfo"]=i,null!=e.userData&&(o["userData"]=Object(r["a"])({},e.userData)),null!=e.constraints&&(o["constraints"]=e.constraints),null!=o.constraints&&JSON.stringify(n.constraints)!==JSON.stringify(o.constraints)&&(s=!0),t.prev=25,t.next=28,Ne(o);case 28:if(c=t.sent,null!=c.stream){t.next=32;break}return t.next=32,Be();case 32:return t.next=34,We();case 34:if(l=t.sent,!s||null==l.stream){t.next=38;break}return t.next=38,Le(l.stream,l.constraints);case 38:return t.abrupt("return",De());case 41:return t.prev=41,t.t0=t["catch"](25),qe(t.t0),t.abrupt("return",null);case 45:case"end":return t.stop()}}),t,null,[[25,41]])})));return function(e){return t.apply(this,arguments)}}(),Le=function(t,e){var n=[],a=t.getAudioTracks(),i=t.getVideoTracks();for(var o in a)n.push(a[o].applyConstraints(e["audio"]));for(var s in i)n.push(i[s].applyConstraints(e["video"]));return Promise.all(n)},Be=function(t){return t=t||"both",new Promise((function(e,n){console.log("WowzaWebRTCPublish.getUserMedia");var a=De(),i=[],o=[];function s(t){return r.apply(this,arguments)}function r(){return r=Object(ae["a"])(regeneratorRuntime.mark((function n(s){var r,c,l,u,d,v,m,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("audio"===t&&o.length>0){for(c in r=s.getVideoTracks(),r)s.removeTrack(r[c]);s.addTrack(o[0])}else if("video"===t&&i.length>0){for(u in l=s.getAudioTracks(),l)s.removeTrack(l[u]);s.addTrack(i[0])}if(d={stream:s},"audio"!==t&&a.isScreenSharing){for(v in o)o[v].stop();d["isScreenSharing"]=!1}try{a.videoElementPublish.srcObject=s,d["ready"]=!0}catch(p){console.log("getUserMediaSuccess: error connecting stream to videoElementPublish, trying createObjectURL"),console.log(p),a.videoElementPublish.src=window.URL.createObjectURL(s),d["ready"]=!0}try{"video"!==t&&window.AudioContext&&a.useSoundMeter&&(m=new AudioContext,f=new Oe(m),f.connectToSource(s,(function(t){t?console.log(t):Ie=setInterval((function(){var t=De().audioEnabled?f.instant.toFixed(2):0;null!=Ae.onSoundMeter&&Ae.onSoundMeter(t)}),200)})))}catch(h){console.log("getUserMediaSuccess: error creating audio meter"),console.log(h)}return n.next=7,Ne(d);case 7:e(d);case 8:case"end":return n.stop()}}),n)}))),r.apply(this,arguments)}null!=a.stream&&(i=a.stream.getAudioTracks(),o=a.stream.getVideoTracks()),"video"!==t&&(null!=je&&je.stop(),null!=Ie&&clearInterval(Ie)),null==a.videoElementPublish&&n({message:"videoElementPublish not set"}),navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(a.constraints).then(s).catch(qe):navigator.getUserMedia?navigator.getUserMedia(a.constraints,s,(function(t){qe(t),n(t)})):(qe({message:"Your browser does not support WebRTC"}),n())}))},We=function(){return new Promise((function(t,e){console.log("WowzaWebRTCPublish.getDevices"),navigator.mediaDevices.enumerateDevices().then((function(e){console.log(e);for(var n=Object(r["a"])({},De().constraints),a=[],i=[],o=0;o<e.length;o++)"videoinput"===e[o].kind?(0===a.length&&(n.video=Object.assign({},n.video,{deviceId:e[o].deviceId})),a.push(e[o])):"audioinput"===e[o].kind&&(0===i.length&&(n.audio=Object.assign({},n.audio,{deviceId:e[o].deviceId})),i.push(e[o]));var s={cameras:a,microphones:i,constraints:n};t(Ne(s))})).catch((function(t){console.log("unable to detect AV devices: "+t),e(t)}))}))};function Ue(t){null!=t.target&&null!=t.target.connectionState&&Ne({connectionState:t.target.connectionState})}function Ve(){Ne({connectionState:"stopped"})}function ze(t,e){var n=De();null!=n.stream&&null!=n.stream.getTracks&&n.stream.getTracks().map((function(n){n.kind===t&&(n.enabled=e)}))}function $e(t){console.log("WowzaWebRTC.setAudioEnabled:"+t),ze("audio",t),Ne({audioEnabled:t})}function He(t){console.log("WowzaWebRTC.setVideoEnabled:"+t),ze("video",t),Ne({videoEnabled:t})}function Ge(){return new Promise((function(t,e){var n=De().stream;function a(a){var i={stream:a,isScreenSharing:!0};n.getAudioTracks().length>0&&a.addTrack(n.getAudioTracks()[0]);try{De().videoElementPublish.srcObject=a,i["ready"]=!0}catch(o){e(o)}Ne(i),t(a)}var i={video:!0};navigator.getDisplayMedia?navigator.getDisplayMedia(i).then((function(t){a(t,i)})).catch((function(t){e(t)})):navigator.mediaDevices.getDisplayMedia?navigator.mediaDevices.getDisplayMedia(i).then((function(t){a(t,i)})).catch((function(t){e(t)})):(i={video:{mediaSource:"screen"}},navigator.mediaDevices.getUserMedia(i).then((function(t){a(t,i)})).catch((function(t){e(t)})))}))}var Fe=function t(e){if(console.log("WowzaWebRTC.setCamera: "+e),"screen"===e)Ge().then((function(e){var n=De();ze("audio",n.audioEnabled),ze("video",n.videoEnabled),e.getVideoTracks()[0].onended=function(){var e=De();e.cameras.length>0&&t(e.cameras[0].deviceId)},Re.isStarted()&&(Ke(),Ye()),null!=Ae.onCameraChanged&&Ae.onCameraChanged("screen")}));else{var n=Object(r["a"])({},Pe.constraints);"boolean"===typeof n.video&&(n.video={}),n.video=Object.assign({},n.video,{deviceId:e}),Ne({constraints:n}).then((function(){Be("video").then((function(){var t=De();ze("audio",t.audioEnabled),ze("video",t.videoEnabled),Re.isStarted()&&(Ke(),Ye()),null!=Ae.onCameraChanged&&Ae.onCameraChanged(e)}))}))}},Je=function(t){console.log("WowzaWebRTC.setMicrophone: "+t);var e=Object(r["a"])({},Pe.constraints);"boolean"===typeof e.audio&&(e.audio={}),e.audio=Object.assign({},e.audio,{deviceId:t}),Ne({constraints:e}).then((function(){Be("audio").then((function(){var e=De();ze("audio",e.audioEnabled),ze("video",e.videoEnabled),Re.isStarted()&&(Ke(),Ye()),null!=Ae.onMicrophoneChanged&&Ae.onMicrophoneChanged(t)}))}))},Ye=function(){var t=De();console.log("WowzaWebRTC.start()"),Re.start({wsURL:t.sdpURL,localStream:t.stream,streamInfo:t.streamInfo,mediaInfo:t.mediaInfo,userData:t.userData,mungeSDP:Pt,onconnectionstatechange:Ue,onstop:Ve,onstats:Ae.onStats||void 0,onerror:qe})},Ke=function(){console.log("WowzaWebRTC.stop()"),Re.stop()},qe=function(t){console.log("WowzaWebRTC ERROR:"),console.log(t),null==t.message&&null!=t.target&&console.log("typeof error.target: "+Object(St["a"])(t.target)),null!=Ae.onError&&Ae.onError(t)},Qe={on:ke,set:Me,getState:De,start:Ye,stop:Ke,setAudioEnabled:$e,setVideoEnabled:He,setCamera:Fe,setMicrophone:Je},Ze=Qe;window.WowzaWebRTCPublish=Ze;var Xe=window.adapter.browserDetails;function tn(t,e){var n={publishing:!1,pendingPublish:!1,pendingPublishTimeout:void 0,muted:!1,video:!0,selectedCam:"",selectedMic:"",settings:{sdpURL:"wss://".concat(_(f.STR_WEB_RTC_URL),".streamlock.net/webrtc-session.json"),applicationName:"live",streamName:_(f.STR_WEB_RTC_SENDER_STREAM),audioBitrate:"64",audioCodec:"opus",videoBitrate:"3500",videoCodec:"42e01f",videoFrameRate:"30",frameSize:"default"}},a=function(t,e,a,i,o){E(),Ze.on({onStateChanged:function(n){console.log("WowzaWebRTCPublish.onStateChanged"),console.log(n),"connected"===n.connectionState?t():"failed"===n.connectionState?e():a()},onCameraChanged:function(t){if(t!==n.selectedCam){n.selectedCam=t;var e="CameraMobile_"+t;"screen"===t&&(e="screen_screen"),console.log("SET CAM",e)}},onMicrophoneChanged:function(t){t!==n.selectedMic&&(n.selectedMic=t,console.log("SET MIC",t))},onError:i,onSoundMeter:o}),Ze.set({videoElementPublish:document.getElementById("wowza-sender"),useSoundMeter:!0}).then((function(t){console.log("Media Result: ",t.cameras,t.microphones)}))},i=function(){if(""===n.settings.sdpURL)throw"No stream configured.";if(""===n.settings.applicationName)throw"Missing application name.";if(""===n.settings.streamName)throw"Missing stream name.";return!0},o=function(t){var e=JSON.parse(JSON.stringify(Ze.getState().constraints));"default"===t?(e.video["width"]={min:"640",ideal:"1280",max:"1920"},e.video["height"]={min:"360",ideal:"720",max:"1080"}):(e.video["width"]={exact:t[0]},e.video["height"]={exact:t[1]}),Ze.set({constraints:e})},s=function(t){return n.settings=t,Ze.set(t)},r=function(){i()&&Ze.start()},c=function(){Ze.stop()},l=function(){Ze.setVideoEnabled(!0)},u=function(){Ze.setAudioEnabled(!0)},d=function(t){var e;"OverconstrainedError"==t.name?(console.log("OverconstrainedError"),o("default")):e=t.message?t.message:t,p(e),c()},v=function t(e){e?(console.log("Publish Disable"),n.pendingPublish=!0,n.pendingPublishTimeout=setTimeout((function(){c(),d({message:"Publish failed. Unable to connect."}),t(!1)}),1e4)):(n.pendingPublish=!1,null!=n.pendingPublishTimeout&&(clearTimeout(n.pendingPublishTimeout),n.pendingPublishTimeout=void 0))},m=function(){return s(n.settings)},p=function(e){console.log("showErrorPanel",e),t(e)},h=function(){console.log("hideErrorPanel"),e()},g=function(){n.publishing=!0,v(!1),h(),console.log("onPublishPeerConnected")},b=function(){v(!1),g(),d({message:"Peer connection failed."}),console.log("onPublishPeerConnectionFailed")},C=function(){n.pendingPublish||(n.publishing=!1,console.log("onPublishPeerConnectionStopped"))},E=function(){l(),u();var t=document.getElementById("publish_btn");console.log(t),t.addEventListener("click",(function(){if(!n.pendingPublish)if(n.publishing)c();else try{h(),console.log("PPPPPublish"),console.log(n),m().then((function(){v(!0),r()}))}catch(t){d(t)}}))},S=function(){var t=n.settings;null!=t.frameSize&&""!==t.frameSize&&"default"!==t.frameSize&&o(t.frameSize.split("x")),"safari"===Xe.browser&&console.log("Safari don't support VP9")};S(),a(g,b,C,d)}var en={data:function(){return{v_height:"0px"}},created:function(){var t=9*window.innerWidth/16;this.v_height=t+"px";var e=function(t){y.$emit(T,t)},n=function(){console.log("### onHide")};this.$nextTick((function(){console.log("Sender Created"),tn(e,n)})),y.$on(S,(function(){console.log("RECEIVE PUBLISH")}))}},nn=en,an=(n("7dcd"),Object(O["a"])(nn,ee,ne,!1,null,"53c04aab",null)),on=an.exports,sn={data:function(){return{tabs:["HLS","WEBRTC"],height:"0px",v_heith:"0px",tab:0}},computed:Object(r["a"])({},Object(B["e"])(["video_items"])),components:{HLSVideo:bt,WebRTCReceiver:te,WebRTCSender:on},props:["props_tab"],created:function(){var t=this;this.$nextTick((function(){var e=9*window.innerWidth/16;t.v_heith=e+"px";var n=t.$refs.area.getBoundingClientRect().height;t.height=n+"px",t.SET_TAB_CONTENS_HEIGHT(n)}))},watch:{tab:function(){y.$emit(C,this.tab)}},methods:Object(r["a"])({},Object(B["d"])(["SET_TAB_CONTENS_HEIGHT"]))},rn=sn,cn=(n("1a08"),n("71a3")),ln=n("c671"),un=n("fe57"),dn=n("aac8"),vn=Object(O["a"])(rn,vt,mt,!1,null,"14d0c981",null),mn=vn.exports;j()(vn,{VTab:cn["a"],VTabItem:ln["a"],VTabs:un["a"],VTabsItems:dn["a"]});var fn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"root"},[n("div",{staticClass:"shadow"},[n("tab-indicator",{attrs:{props_event_type:this.EVENT_SELECT_TOP_TAP,props_tab_length:this.video_items.length}}),n("div",{staticClass:"horizontal_line"},[n("p",{staticClass:"font"},[t._v("I M FINE Web App")]),n("div",{staticClass:"ver"},[t._v("VERSION: "+t._s(this.app_version))])]),n("tab-indicator",{attrs:{props_event_type:this.EVENT_SELECT_BOTTOM_TAP,props_tab_length:this.tab_items.length}})],1)])},pn=[],hn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"indicator_bg"},t._l(this.props_tab_length,(function(e){return n("div",{key:e},[n("span",{staticClass:"dot",class:t.getDotClass(e)})])})),0)},gn=[],_n={props:["props_event_type","props_tab_length"],data:function(){return{selected_index:0}},computed:{},created:function(){var t=this;y.$on(this.props_event_type,(function(e){t.selected_index=e}))},methods:{getDotClass:function(t){return t-1===this.selected_index?"selected":"unselected"}}},bn=_n,Cn=(n("31e3"),Object(O["a"])(bn,hn,gn,!1,null,"3dbb9f22",null)),En=Cn.exports,Sn=n("9224"),wn={data:function(){return{EVENT_SELECT_BOTTOM_TAP:E,EVENT_SELECT_TOP_TAP:C,app_version:0}},components:{TabIndicator:En},computed:Object(r["a"])({},Object(B["e"])(["tab_items","video_items"])),created:function(){this.app_version=Sn["a"]}},Tn=wn,yn=(n("fda7"),Object(O["a"])(Tn,fn,pn,!1,null,"1e681132",null)),Rn=yn.exports,xn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"area"},[n("v-tabs",{staticClass:"tab_menu",attrs:{"background-color":"primary",dark:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(this.tab_items,(function(e){return n("v-tab",{key:e.tab},[t._v(" "+t._s(e)+" ")])})),1),n("v-tabs-items",{attrs:{id:"tab_contents"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(this.tab_items,(function(e){return n("v-tab-item",{key:e},[n("div",{staticClass:"tabs",style:{height:t.height}},["Chatting"===e?n("Chatting"):"Emoji"===e?n("Emoji"):"Info"===e?n("Info"):t._e(),n("div")],1)])})),1)],1)},On=[],Pn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"bg",staticClass:"root"},[n("div",{staticClass:"title"},[t._v("User Name")]),n("form",{staticClass:"horizontal_line"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.user_name,expression:"user_name"}],staticClass:"edit",staticStyle:{flex:"7"},attrs:{type:"text"},domProps:{value:t.user_name},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.applyName(e)},input:function(e){e.target.composing||(t.user_name=e.target.value)}}}),n("div",{staticClass:"divider",staticStyle:{flex:"1"}},[t._v(":")]),n("v-btn",{staticStyle:{flex:"2"},on:{click:t.applyName}},[t._v("APPLY")])],1),n("div",{staticClass:"title"},[t._v("Web RTC")]),n("div",{staticClass:"horizontal_line"},[n("div",{staticClass:"left_option"},[t._v("Signaling URL")]),n("div",{staticClass:"divider",staticStyle:{flex:"0.1"}},[t._v(":")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.web_signaliing_url,expression:"web_signaliing_url"}],staticClass:"edit right_option",attrs:{type:"text"},domProps:{value:t.web_signaliing_url},on:{input:function(e){e.target.composing||(t.web_signaliing_url=e.target.value)}}})]),n("div",{staticClass:"title"},[t._v("Receiver")]),n("div",{staticClass:"horizontal_line"},[n("div",{staticClass:"left_option"},[t._v("Stream Name")]),n("div",{staticClass:"divider",staticStyle:{flex:"0.1"}},[t._v(":")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.receive_stream,expression:"receive_stream"}],staticClass:"edit right_option",attrs:{type:"text"},domProps:{value:t.receive_stream},on:{input:function(e){e.target.composing||(t.receive_stream=e.target.value)}}})]),n("div",{staticClass:"horizontal_line"},[n("v-btn",{staticStyle:{flex:"1","margin-top":"20px"},attrs:{id:"play_btn"}},[t._v("PLAY")])],1),n("div",{staticClass:"title"},[t._v("Sender")]),n("div",{staticClass:"horizontal_line"},[n("div",{staticClass:"left_option"},[t._v("Stream Name")]),n("div",{staticClass:"divider",staticStyle:{flex:"0.1"}},[t._v(":")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.sender_stream,expression:"sender_stream"}],staticClass:"edit right_option",attrs:{type:"text"},domProps:{value:t.sender_stream},on:{input:function(e){e.target.composing||(t.sender_stream=e.target.value)}}})]),t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),n("div",{staticClass:"horizontal_line"},[n("v-btn",{staticStyle:{flex:"1","margin-top":"20px"},on:{click:t.applyWebRTC}},[t._v("APPLY")])],1),n("div",{staticClass:"horizontal_line"},[n("v-btn",{staticStyle:{flex:"1","margin-top":"20px"},attrs:{id:"publish_btn"}},[t._v("PUBLISH")])],1),n("div",{staticStyle:{width:"100%",height:"40px"}})])},jn=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"horizontal_line"},[n("div",{staticClass:"left_option"},[t._v("Video Bitrate")]),n("div",{staticClass:"divider",staticStyle:{flex:"0.1"}},[t._v(":")]),n("input",{staticClass:"edit right_option",attrs:{type:"text"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"horizontal_line"},[n("div",{staticClass:"left_option"},[t._v("Video Codect")]),n("div",{staticClass:"divider",staticStyle:{flex:"0.1"}},[t._v(":")]),n("input",{staticClass:"edit right_option",attrs:{type:"text"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"horizontal_line"},[n("div",{staticClass:"left_option"},[t._v("Video Bitrate")]),n("div",{staticClass:"divider",staticStyle:{flex:"0.1"}},[t._v(":")]),n("input",{staticClass:"edit right_option",attrs:{type:"text"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"horizontal_line"},[n("div",{staticClass:"left_option"},[t._v("Frame Size")]),n("div",{staticClass:"divider",staticStyle:{flex:"0.1"}},[t._v(":")]),n("input",{staticClass:"edit right_option",attrs:{type:"text"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"horizontal_line"},[n("div",{staticClass:"left_option"},[t._v("Frame Rate")]),n("div",{staticClass:"divider",staticStyle:{flex:"0.1"}},[t._v(":")]),n("input",{staticClass:"edit right_option",attrs:{type:"text"}})])}],In={data:function(){return{user_name:"",web_signaliing_url:"",receive_stream:"",sender_stream:""}},computed:Object(r["a"])({},Object(B["e"])(["tab_contents_height"])),created:function(){var t=this;this.$nextTick((function(){t.$refs.bg.style.height=t.tab_contents_height+"px",console.log(t.tab_contents_height)})),this.loadInfo()},methods:Object(r["a"])(Object(r["a"])({},Object(B["d"])(["SET_NAME"])),{},{applyName:function(){g(f.STR_USER_NAME,this.user_name),this.SET_NAME(this.user_name)},applyWebRTC:function(){g(f.STR_WEB_RTC_URL,this.web_signaliing_url),g(f.STR_WEB_RTC_RECEIVE_STREAM,this.receive_stream),g(f.STR_WEB_RTC_SENDER_STREAM,this.sender_stream)},loadInfo:function(){this.user_name=_(f.STR_USER_NAME),this.web_signaliing_url=_(f.STR_WEB_RTC_URL),this.receive_stream=_(f.STR_WEB_RTC_RECEIVE_STREAM),this.sender_stream=_(f.STR_WEB_RTC_SENDER_STREAM)}})},An=In,Nn=(n("f905"),Object(O["a"])(An,Pn,jn,!1,null,"36dcad22",null)),Dn=Nn.exports;j()(Nn,{VBtn:K["a"]});var kn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"bg"},[n("div",{ref:"items",staticClass:"itmes"},[n("div",{ref:"glist",staticClass:"grid"},[n("v-row",t._l(t.emoji_list,(function(e){return n("v-col",{key:e,attrs:{cols:"4"}},[n("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"shadow",attrs:{"aspect-ratio":"1"},on:{click:function(n){return t.addHeart(e)}}},[n("div",{staticClass:"font"},[t._v(t._s(e))])])],1)})),1)],1)])])},Mn=[],Ln={data:function(){return{imgs:[],timer:null}},computed:Object(r["a"])({},Object(B["e"])(["tab_contents_height","emoji_list"])),created:function(){var t=this;this.$nextTick((function(){t.$refs.bg.style.height=t.tab_contents_height+"px",t.$refs.items.style.height=t.tab_contents_height+"px";var e=t.$refs.glist,n=window.innerHeight-e.getBoundingClientRect().y;e.style.height=n+"px",console.log(t.tab_contents_height)}))},methods:Object(r["a"])(Object(r["a"])({},Object(B["b"])(["ADD_EMOJI"])),{},{addHeart:function(t){this.ADD_EMOJI(t)}})},Bn=Ln,Wn=(n("ebed"),n("adda")),Un=n("269a"),Vn=n.n(Un),zn=n("5607"),$n=Object(O["a"])(Bn,kn,Mn,!1,null,"5272ae9e",null),Hn=$n.exports;j()($n,{VCol:q["a"],VImg:Wn["a"],VRow:tt["a"]}),Vn()($n,{Ripple:zn["a"]});var Gn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"bg",staticClass:"tab_bg"},[n("ChattingList",{staticClass:"list"}),n("div",{staticClass:"shadow_up"}),n("ChattingInput",{staticClass:"input"})],1)},Fn=[],Jn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"outline"},[n("form",{staticClass:"form"},[n("input",{staticClass:"text_input",attrs:{type:"text"},domProps:{value:t.input_data},on:{input:t.updataInput,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendMessage(e)}}})]),n("v-btn",{ref:"btn",class:{send_btn:1==this.isEdit,wait_btn:0==this.isEdit},style:1==this.isEdit&&{color:"white"},attrs:{icon:""},on:{click:t.sendMessage}},[n("v-icon",[t._v("mdi-arrow-up")])],1)],1)},Yn=[],Kn={data:function(){return{input_data:"",isEdit:!1}},methods:{sendMessage:function(){var t=this;if(this.input_data){var e=this.input_data;this.$store.dispatch("SEND_MESSAGE",e).then((function(e){console.log("RR = ",e),e||(t.input_data="",t.isEdit=!1,y.$emit(b))}))}},getBtnClass:function(){return 1==this.$refs.input.value?"send_btn":"wait_btn"},updataInput:function(t){this.input_data=t.target.value,this.isEdit=this.input_data.length>0}}},qn=Kn,Qn=(n("920e"),Object(O["a"])(qn,Jn,Yn,!1,null,"ff0efb02",null)),Zn=Qn.exports;j()(Qn,{VBtn:K["a"],VIcon:X["a"]});var Xn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"root"},[n("ul",{ref:"rlist",staticClass:"chatting_list"},t._l(t.getMessages,(function(e){return n("li",{key:e.index},[n("div",{class:!!e.isMine&&t.msg_right},[n("div",{staticClass:"msg_item",class:e.isMine?t.msg_mine:t.msg_other},[n("div",{staticClass:"msg_top"},[n("div",{staticClass:"msg_user"},[t._v(" "+t._s(e.user)+" ")]),n("div",{staticClass:"msg_time"},[t._v(" "+t._s(t.getFormatDate(e.time))+" ")])]),n("div",{staticClass:"msg_contents"},[t._v(" "+t._s(e.message)+" ")])])])])})),0)])},ta=[],ea={data:function(){return{msg_right:"msg_right",msg_mine:"msg_mine",msg_other:"msg_other"}},computed:Object(r["a"])({},Object(B["c"])(["getMessages"])),created:function(){var t=this;y.$on(b,(function(){t.scrollToBottom()})),this.$nextTick((function(){var e=t.$refs.rlist,n=window.innerHeight-e.getBoundingClientRect().y-50;e.style.height=n+"px"}))},mounted:function(){var t=this;this.$nextTick((function(){t.scrollToBottom()}))},watch:{getMessages:function(){console.log("add item"),this.$nextTick((function(){this.scrollToBottom()}))}},methods:{getFormatDate:function(t){var e=new Date(t);return e.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})},scrollToBottom:function(){var t=this.$refs.rlist;t.scrollTop=t.scrollHeight}}},na=ea,aa=(n("64c9"),Object(O["a"])(na,Xn,ta,!1,null,"43e8ddc2",null)),ia=aa.exports,oa={computed:Object(r["a"])({},Object(B["e"])(["tab_contents_height"])),components:{ChattingInput:Zn,ChattingList:ia},created:function(){var t=this;this.$nextTick((function(){t.$refs.bg.style.height=t.tab_contents_height+"px"}))}},sa=oa,ra=(n("72c5"),Object(O["a"])(sa,Gn,Fn,!1,null,"03f4e258",null)),ca=ra.exports,la={data:function(){return{height:"0px",tab:0}},computed:Object(r["a"])({},Object(B["e"])(["tab_items"])),components:{Info:Dn,Chatting:ca,Emoji:Hn},created:function(){var t=this;this.$nextTick((function(){var e=t.$refs.area.getBoundingClientRect().height;t.height=e+"px",t.SET_TAB_CONTENS_HEIGHT(e)}))},watch:{tab:function(){y.$emit(E,this.tab),console.log("Tab Chaged",this.tab)}},methods:Object(r["a"])({},Object(B["d"])(["SET_TAB_CONTENS_HEIGHT"]))},ua=la,da=(n("22f7"),Object(O["a"])(ua,xn,On,!1,null,"387f83bc",null)),va=da.exports;j()(da,{VTab:cn["a"],VTabItem:ln["a"],VTabs:un["a"],VTabsItems:dn["a"]});var ma=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"root"},[n("div",{staticClass:"icon",class:{anim:this.isAnim},style:{left:t.getLeft,transition:"all "+t.getDuration+"s linear"},attrs:{id:"hid"}},[t._v(" "+t._s(t.props_data)+" ")])])},fa=[],pa={data:function(){return{isAnim:!1,getLeft:"0px",getDuration:0}},props:["props_data"],mounted:function(){var t=this,e=.8,n=3,a=this.getRandom(e,n);this.getDuration=a;var i=Math.floor(this.getRandom(50,window.innerWidth-50))+"px";this.getLeft=i;var o=setTimeout((function(){clearTimeout(o),t.$emit("end_anim",t.$vnode.data.ref)}),1e3*a),s=setTimeout((function(){t.isAnim=!0,clearTimeout(s)}),10)},methods:{getRandom:function(t,e){return Math.random()*(e-t)+t}}},ha=pa,ga=(n("d242"),Object(O["a"])(ha,ma,fa,!1,null,"44cfd3a8",null)),_a=ga.exports,ba={name:"App",components:{VideoView:mn,MenuBar:Rn,Tabs:va,EmojiIcon:_a},data:function(){return{h_count:0,obj:{},contents_style:{height:document.documentElement.clientHeight+"px"}}},created:function(){var t=this;y.$on("RECIEVE_DATA",(function(e){t.obj["idx"+t.h_count]={component:_a,emoji:e.message},t.h_count++})),this.loadName(),this.loadMessage()},beforeDestroy:function(){this.DELETE_MESSAGE_EVENT()},methods:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(B["d"])(["SET_NAME","DELETE_MESSAGE_EVENT"])),Object(B["b"])(["LOAD_MESSAGES","SET_MESSAGE_EVENT"])),{},{getEmoji:function(t){this.emoji_list[t]},deleteItem:function(t){this.$delete(this.obj,t)},loadName:function(){var t=_(f.STR_USER_NAME);0==t.length&&(t=Math.random().toString(36).substring(7)),this.SET_NAME(t)},loadMessage:function(){var t=this;this.LOAD_MESSAGES().then((function(){console.log("load all messsage"),t.SET_MESSAGE_EVENT()}))}})},Ca=ba,Ea=(n("cffd"),Object(O["a"])(Ca,ut,dt,!1,null,"95a0320a",null)),Sa=Ea.exports,wa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"root"},[t._v(" Play ")])},Ta=[],ya={},Ra=ya,xa=(n("7975"),Object(O["a"])(Ra,wa,Ta,!1,null,null,null)),Oa=xa.exports,Pa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"root"},[n("div",{attrs:{id:"build"}},[t._v("1.2.4 kfzz4z9s")]),n("div",{staticClass:"container-fluid"},[t._m(0),t._m(1),t._m(2),n("div",{staticClass:"container-fluid mt-3",attrs:{id:"publish-content"}},[n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"col-md-8 col-sm-12"},[n("div",{attrs:{id:"publish-video-container"}},[n("video",{attrs:{id:"publisher-video",autoplay:"",playsinline:"",muted:"",controls:""},domProps:{muted:!0}}),t._m(3)])]),t._m(4)])])]),t._m(5)])},ja=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-sm navbar-light bg-light pb-3 pb-md-2",attrs:{id:"top-nav"}},[a("a",{staticClass:"navbar-brand",attrs:{href:"http://www.wowza.com"}},[a("img",{staticClass:"noll",attrs:{src:n("5fc5"),alt:"Wowza Media Systems"}})]),a("ul",{staticClass:"navbar-nav mr-auto-lg"},[a("li",{staticClass:"nav-item page active"},[a("a",{attrs:{href:"dev-view-publish.html",id:"show-publish-page"}},[t._v("Publish")]),a("span")]),a("li",{staticClass:"nav-item page"},[a("a",{attrs:{href:"dev-view-play.html",id:"show-play-page"}},[t._v("Play")]),a("span")]),a("li",{staticClass:"nav-item page"},[a("a",{attrs:{href:"https://www.wowza.com/developer/webrtc/dev-composite",id:"show-chat-page"}},[t._v("Composite")]),a("span")])]),a("ul",{staticClass:"navbar-nav ml-auto d-none d-md-flex"},[a("li",{staticClass:"nav-item mr-3"},[a("a",{attrs:{href:"https://www.wowza.com/docs/wowza-streaming-engine-product-articles"}},[t._v("Docs")])]),a("li",{staticClass:"nav-item mr-3"},[a("a",{attrs:{href:"https://www.wowza.com/developer"}},[t._v("Developer Portal")])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row justify-content-center",staticStyle:{display:"none"},attrs:{id:"transcoder-warning"}},[n("div",{staticClass:"col-12 alert alert-warning p-2 text-center"},[t._v(" Please visit "),n("a",{attrs:{href:"https://cloud.wowza.com"}},[t._v("cloud.wowza.com")]),t._v(" to start your live stream. ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row justify-content-center invisible mt-3",attrs:{id:"error-panel"}},[n("div",{staticClass:"col-10 alert alert-danger alert-dismissible p-2"},[n("button",{staticClass:"close",attrs:{id:"error-panel-close",type:"button","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),n("div",{attrs:{id:"error-messages"}})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"video-live-indicator"}},[n("span",{staticClass:"badge badge-pill badge-danger",staticStyle:{display:"none"},attrs:{id:"video-live-indicator-live"}},[t._v("LIVE")]),n("span",{staticClass:"badge badge-pill badge-warning",staticStyle:{display:"none"},attrs:{id:"video-live-indicator-error"}},[t._v("ERROR")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-4 col-sm-12",attrs:{id:"publish-settings"}},[a("form",{attrs:{id:"publish-settings-form"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"sdpURL"}},[t._v("Signaling URL")]),a("input",{staticClass:"form-control",attrs:{type:"text",id:"sdpURL",name:"sdpURL",maxlength:"1024",placeholder:"wss://[ssl-certificate-domain-name]/webrtc-session.json"}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6 col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"applicationName"}},[t._v("Application Name")]),a("input",{staticClass:"form-control",attrs:{type:"text",id:"applicationName",name:"applicationName",maxlength:"256"}})])]),a("div",{staticClass:"col-lg-6 col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"streamName"}},[t._v("Stream Name")]),a("input",{staticClass:"form-control",attrs:{type:"text",id:"streamName",name:"streamName",maxlength:"256"}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6 col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"audioBitrate"}},[t._v("Audio Bitrate")]),a("div",{staticClass:"input-group"},[a("input",{staticClass:"form-control",attrs:{type:"number",id:"audioBitrate",name:"audioBitrate",value:"64"}}),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[t._v("Kbps")])])])])]),a("div",{staticClass:"col-lg-6 col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"audioCodec"}},[t._v("Audio Codec")]),a("div",{staticClass:"input-group"},[a("select",{staticClass:"form-control",attrs:{id:"audioCodec",name:"audioCodec"}},[a("option",{attrs:{value:"opus",selected:""}},[t._v("Opus")])])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6 col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"videoBitrate"}},[t._v("Video Bitrate")]),a("div",{staticClass:"input-group"},[a("input",{staticClass:"form-control",attrs:{type:"number",id:"videoBitrate",name:"videoBitrate",value:"3500"}}),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[t._v("Kbps")])])])])]),a("div",{staticClass:"col-lg-6 col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"videoCodec"}},[t._v("Video Codec")]),a("div",{staticClass:"input-group"},[a("select",{staticClass:"form-control",attrs:{id:"videoCodec",name:"videoCodec"}},[a("option",{attrs:{value:"42e01f",selected:""}},[t._v("H.264")]),a("option",{attrs:{value:"VP8"}},[t._v("VP8")]),a("option",{attrs:{value:"VP9"}},[t._v("VP9")])])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6 col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"videoFrameRate"}},[t._v("Frame Rate")]),a("div",{staticClass:"input-group"},[a("input",{staticClass:"form-control",attrs:{type:"number",id:"videoFrameRate",name:"videoFrameRate",value:"30"}}),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[t._v("fps")])])])])]),a("div",{staticClass:"col-lg-6 col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"frameSize"}},[t._v("Frame Size")]),a("div",{staticClass:"input-group"},[a("select",{staticClass:"form-control",attrs:{id:"frameSize",name:"frameSize"}},[a("option",{attrs:{selected:"",value:"default"}},[t._v(" Default ")]),a("option",{attrs:{value:"1920x1080"}},[t._v(" 1920x1080 ")]),a("option",{attrs:{value:"1280x720"}},[t._v(" 1280x720 ")]),a("option",{attrs:{value:"800x600"}},[t._v(" 800x600 ")]),a("option",{attrs:{value:"640x360"}},[t._v(" 640x360 ")])])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-10"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"camera-list-select"}},[t._v(" Input Camera ")]),a("select",{staticClass:"form-control",attrs:{id:"camera-list-select"}})])]),a("div",{staticClass:"col-2"},[a("button",{staticClass:"control-button",attrs:{id:"camera-toggle"}},[a("img",{staticClass:"noll",attrs:{alt:"",id:"video-off",src:n("a2e4")}}),a("img",{staticClass:"noll",staticStyle:{display:"none"},attrs:{alt:"",id:"video-on",src:n("70a6")}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-10"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"mic-list-select"}},[t._v(" Input Microphone ")]),a("select",{staticClass:"form-control",attrs:{id:"mic-list-select"}})])]),a("div",{staticClass:"col-2"},[a("button",{staticClass:"control-button",attrs:{id:"mute-toggle"}},[a("img",{staticClass:"noll",attrs:{alt:"",id:"mute-off",src:n("36ed")}}),a("img",{staticClass:"noll",staticStyle:{display:"none"},attrs:{alt:"",id:"mute-on",src:n("e68d")}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-10"},[a("button",{staticClass:"btn",attrs:{id:"publish-toggle",type:"button"}},[t._v(" Publish ")])]),a("div",{staticClass:"col-2"},[a("button",{staticClass:"control-button mt-0",attrs:{id:"publish-share-link",type:"button"}},[a("img",{staticClass:"noll",attrs:{alt:"",id:"mute-off",src:n("6c43")}})])])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",{attrs:{id:"sdpDataTag"}})])}],Ia={created:function(){this.$nextTick((function(){}))}},Aa=Ia,Na=(n("c842"),Object(O["a"])(Aa,Pa,ja,!1,null,"72254ad6",null)),Da=Na.exports;a["a"].use(k["a"]);var ka=[{path:"/",redirect:"/client"},{path:"/client",name:"Client",component:Sa},{path:"/cms",name:"CMS",component:it},{path:"/play",name:"Play",component:Oa},{path:"/publish",name:"Publish",component:Da},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],Ma=new k["a"]({routes:ka}),La=Ma;n("99af");a["a"].use(B["a"]);var Ba,Wa=100,Ua=new B["a"].Store({state:{dic_list:[],video_items:["RECIVER","SENDER","HLS"],tab_items:["Info","Chatting","Emoji"],hrl_url:"",last_timestamp:0,messages:[],user_name:"",emoji_list:["😍","🥳","✌🏻","😺","🤡","👍🏻","💋","⭐️","🌹"],tab_contents_height:0},getters:{getMessages:function(t){return t.messages},getHlsUrl:function(t){return t.hrl_url}},mutations:{SET_TAB_CONTENS_HEIGHT:function(t,e){t.tab_contents_height=e},ADD_MESSAGES:function(t,e){t.messages.length>=Wa&&t.messages.shift(),t.messages=t.messages.concat(e)},SET_NAME:function(t,e){t.user_name=e},SET_HLS_URL:function(t,e){t.hrl_url=e},DELETE_MESSAGE_EVENT:function(){clearTimeout(Ba),Ba=null}},actions:{LOAD_MESSAGES:function(t){var e=t.state,n=t.commit;return z(Wa).then((function(t){var a=[];return t.forEach((function(t){e.dic_list.push(t.key);var n=t.val();e.last_timestamp=n.time;var i=n.type||"MESSAGE";if("MESSAGE"===i){o&&(n.isMine=!0),n.index=t.key;var o=n.user===e.user_name;a.push(n)}})),n("ADD_MESSAGES",a),t}))},SET_MESSAGE_EVENT:function(t){var e=t.state,n=t.commit;Ba=setInterval(Object(ae["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:$(e.last_timestamp).then((function(t){var a=null,i=[];t.forEach((function(t){var n=t.val();a=n;var o=-1!=e.dic_list.indexOf(t.key);if(!o){var s=n.type||"MESSAGE";if("MESSAGE"===s){n.index=t.key;var r=n.user===e.user_name;r||i.push(t.val())}else y.$emit("RECIEVE_DATA",t.val());e.dic_list.push(t.key)}})),i.length>0&&(n("ADD_MESSAGES",i),1==a&&(e.last_timestamp=a.time))}));case 1:case"end":return t.stop()}}),t)}))),1e3)},SEND_MESSAGE:function(t,e){var n=t.commit,a=t.state,i={type:"MESSAGE",user:a.user_name,time:(new Date).getTime(),message:e};H("messages",i).then((function(t){return console.log("SEND_RESULT",t),t||n("ADD_MESSAGES",Object(r["a"])(Object(r["a"])({},i),{},{isMine:!0})),t}))},LOAD_HLS_URL:function(t){return Object(ae["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,G();case 3:a=e.sent,n("SET_HLS_URL",a);case 5:case"end":return e.stop()}}),e)})))()},ADD_EMOJI:function(t,e){var n=t.state,a={type:"EMOJI",user:n.user_name,time:(new Date).getTime(),message:e};H("messages",a).then((function(t){return console.log("SEND_EMOJI_RESULT",t),t}))}},modules:{}}),Va=n("f309");a["a"].use(Va["a"]);var za=new Va["a"]({});a["a"].config.productionTip=!1,new a["a"]({router:La,store:Ua,vuetify:za,render:function(t){return t(N)}}).$mount("#app")},"5fc5":function(t,e,n){t.exports=n.p+"img/wowza-logo.c9001ef3.svg"},"64c9":function(t,e,n){"use strict";var a=n("ce97"),i=n.n(a);i.a},6973:function(t,e,n){},"6be5":function(t,e,n){"use strict";var a=n("d229"),i=n.n(a);i.a},"6c43":function(t,e,n){t.exports=n.p+"img/file_copy-24px.af0d3034.svg"},"70a6":function(t,e,n){t.exports=n.p+"img/videocam-off-32px.342a0624.svg"},"72c5":function(t,e,n){"use strict";var a=n("6973"),i=n.n(a);i.a},7975:function(t,e,n){"use strict";var a=n("231f"),i=n.n(a);i.a},"7c44":function(t,e,n){"use strict";var a=n("488b"),i=n.n(a);i.a},"7dcd":function(t,e,n){"use strict";var a=n("5412"),i=n.n(a);i.a},8482:function(t,e,n){},"85ec":function(t,e,n){},"920e":function(t,e,n){"use strict";var a=n("dc91"),i=n.n(a);i.a},9224:function(t){t.exports=JSON.parse('{"a":"0.1.0"}')},a2e4:function(t,e,n){t.exports=n.p+"img/videocam-32px.fc4b7780.svg"},ad80:function(t,e,n){},c842:function(t,e,n){"use strict";var a=n("32cf"),i=n.n(a);i.a},ce97:function(t,e,n){},cffd:function(t,e,n){"use strict";var a=n("1f17"),i=n.n(a);i.a},d229:function(t,e,n){},d242:function(t,e,n){"use strict";var a=n("ad80"),i=n.n(a);i.a},dc91:function(t,e,n){},dcf1:function(t,e,n){},e68d:function(t,e,n){t.exports=n.p+"img/mic-off-32px.725ec334.svg"},ebed:function(t,e,n){"use strict";var a=n("f56b"),i=n.n(a);i.a},f56b:function(t,e,n){},f6e7:function(t,e,n){"use strict";var a=n("dcf1"),i=n.n(a);i.a},f905:function(t,e,n){"use strict";var a=n("4b7f"),i=n.n(a);i.a},fda7:function(t,e,n){"use strict";var a=n("2886"),i=n.n(a);i.a}});
//# sourceMappingURL=app.cfd0f907.js.map