(function(e){function t(t){for(var s,r,i=t[0],c=t[1],u=t[2],l=0,m=[];l<i.length;l++)r=i[l],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&m.push(a[r][0]),a[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);f&&f(t);while(m.length)m.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],s=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(s=!1)}s&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var s={},a={app:0},o=[];function r(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"471741f2"}[e]+".js"}function i(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise((function(t,s){n=a[e]=[t,s]}));t.push(n[2]=s);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=r(e);var u=new Error;o=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var s=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+s+": "+o+")",u.name="ChunkLoadError",u.type=s,u.request=o,n[1](u)}a[e]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=s,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/WebApp/",i.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var f=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1104:function(e,t,n){},"17c4":function(e,t,n){"use strict";var s=n("b779"),a=n.n(s);a.a},2918:function(e,t,n){},"2ed2":function(e,t,n){"use strict";var s=n("8505"),a=n.n(s);a.a},"54b2":function(e,t,n){"use strict";var s=n("fc6a7"),a=n.n(s);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"contents_area",style:e.contents_style,attrs:{id:"root"}},[n("VideoView"),n("MenuBar",{staticClass:"menu"}),n("Tabs",{staticClass:"item"})],1)},o=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("video",{staticClass:"video-js vjs-default-skin vjs-16-9",attrs:{id:"hls-example",controls:""}},[n("source",{ref:"video_source",attrs:{type:"application/x-mpegURL"}})])])},i=[],c=n("5530"),u=n("2f62"),l={data:function(){return{window_width:100,window_height:50}},computed:Object(c["a"])({},Object(u["b"])(["getHlsUrl"])),created:function(){var e=this;this.$store.dispatch("LOAD_HLS_URL").then((function(){e.$refs.video_source.setAttribute("src",e.getHlsUrl),window.videojs("hls-example")}))},methods:{playVideo:function(){}}},f=l,m=(n("17c4"),n("2877")),d=Object(m["a"])(f,r,i,!1,null,"5cb7610f",null),g=d.exports,h=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},p=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"shadow"},[n("p",{staticClass:"font"},[e._v("I M FINE Web App")])])])}],_={},v=_,b=(n("fd34"),Object(m["a"])(v,h,p,!1,null,"441b7692",null)),E=b.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"area"},[n("v-tabs-items",{attrs:{id:"tab_contents"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.items,(function(t){return n("v-tab-item",{key:t},[n("div",{staticClass:"tabs"},[n("Chatting"===t?"Chatting":"Emoji",{attrs:{props_height:e.contents_height}})],1)])})),1),n("v-tabs",{staticClass:"tab_menu",attrs:{"background-color":"primary",dark:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.items,(function(t){return n("v-tab",{key:t.tab},[e._v(" "+e._s(t)+" ")])})),1)],1)},y=[],w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"bg",staticClass:"tab_bg"},[n("v-row",[e._l(9,(function(t){return n("v-col",{key:t,staticClass:"d-flex child-flex",attrs:{cols:"4"}},[n("v-img",{staticClass:"item_bg",attrs:{"aspect-ratio":"1"}},[n("v-icon",{staticClass:"icon_img",attrs:{large:"",color:"red"}},[e._v(" mdi-"+e._s(e.icons[t-1])+" ")])],1)],1)})),n("v-icon",{attrs:{color:"yellow","x-large":""}})],2)],1)},C=[],A={props:["props_height"],data:function(){return{icons:["cards-heart","emoticon-excited-outline","trophy-outline","emoticon-kiss-outline","human-greeting","emoticon-cool-outline","thumb-up-outline","emoticon-tongue-outline","face-recognition"]}},mounted:function(){this.$refs.bg.style.height=this.props_height+"px"}},M=A,j=(n("2ed2"),n("6544")),x=n.n(j),O=n("62ad"),T=n("132d"),k=n("adda"),$=n("0fd9"),D=Object(m["a"])(M,w,C,!1,null,"7046e1e2",null),L=D.exports;x()(D,{VCol:O["a"],VIcon:T["a"],VImg:k["a"],VRow:$["a"]});var V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"bg",staticClass:"tab_bg"},[n("ChattingList",{staticClass:"list"}),n("div",{staticClass:"shadow_up"}),n("ChattingInput",{staticClass:"input"})],1)},B=[],N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"outline"},[n("div",{staticClass:"form"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.user_message,expression:"user_message"}],ref:"ff",staticClass:"text_input",attrs:{type:"text"},domProps:{value:e.user_message},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMessage(t)},input:function(t){t.target.composing||(e.user_message=t.target.value)}}})]),n("v-btn",{staticClass:"send_btn",staticStyle:{color:"white"},attrs:{icon:""},on:{click:e.sendMessage}},[n("v-icon",[e._v("mdi-arrow-up")])],1)],1)},I=[],G={data:function(){return{user_message:""}},mounted:function(){},methods:{loadMessage:function(){console.log("BB",this.$store.state.messages),this.$store.commit("ADD_MESSAGES",{message:"Hello World"}),console.log("AA",this.$store.state.messages),console.log("load!!!")},sendMessage:function(){var e=this;if(this.user_message){var t=this.user_message;this.$store.dispatch("SEND_MESSAGE",t).then((function(t){console.log("RR = ",t),t||(e.user_message="")})),console.log(this.user_message)}}}},H=G,U=(n("cdde"),n("8336")),R=Object(m["a"])(H,N,I,!1,null,"7f8bf028",null),P=R.exports;x()(R,{VBtn:U["a"],VIcon:T["a"]});var F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"root"},[n("ul",{ref:"rlist",staticClass:"chatting_list"},e._l(e.getMessages,(function(t){return n("li",{key:t.index},[n("div",{class:!!t.isMine&&e.msg_right},[n("div",{staticClass:"msg_item",class:t.isMine?e.msg_mine:e.msg_other},[n("div",{staticClass:"msg_top"},[n("div",{staticClass:"msg_user"},[e._v(" "+e._s(t.user)+" ")]),n("div",{staticClass:"msg_time"},[e._v(" "+e._s(e.getFormatDate(t.time))+" ")])]),n("div",{staticClass:"msg_contents"},[e._v(" "+e._s(t.message)+" ")])])])])})),0)])},W=[],z={data:function(){return{msg_right:"msg_right",msg_mine:"msg_mine",msg_other:"msg_other"}},computed:Object(c["a"])({},Object(u["b"])(["getMessages"])),mounted:function(){var e=this,t=this.$refs.rlist,n=window.innerHeight-t.getBoundingClientRect().y-50;t.style.height=n+"px",this.$store.dispatch("LOAD_MESSAGES").then((function(){console.log("load all messsage"),e.scrollToBottom(),e.$store.dispatch("SET_MESSAGE_EVENT")}))},beforeDestroy:function(){this.$store.dispatch("DELETE_MESSAGE_EVENT")},watch:{getMessages:function(){console.log("add item"),this.$nextTick((function(){this.scrollToBottom()}))}},methods:{getFormatDate:function(e){var t=new Date(e);return t.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})},scrollToBottom:function(){var e=this.$refs.rlist;e.scrollTop=e.scrollHeight,console.log(e.scrollHeight)}}},J=z,q=(n("97aa"),Object(m["a"])(J,F,W,!1,null,"3e829efc",null)),K=q.exports,Q={props:["props_height"],data:function(){return{}},components:{ChattingInput:P,ChattingList:K},mounted:function(){this.$refs.bg.style.height=this.props_height+"px"}},Y=Q,Z=(n("54b2"),Object(m["a"])(Y,V,B,!1,null,"a4cf0de6",null)),X=Z.exports,ee={data:function(){return{contents_height:0,tab:0,items:["Chatting","Emoticon"]}},components:{Chatting:X,Emoji:L},mounted:function(){var e=this.$refs.area.getBoundingClientRect().height;this.contents_height=e},watch:{tab:function(){console.log("Tab Chaged",this.tab)}}},te=ee,ne=(n("59fc"),n("71a3")),se=n("c671"),ae=n("fe57"),oe=n("aac8"),re=Object(m["a"])(te,S,y,!1,null,"080ce22e",null),ie=re.exports;x()(re,{VTab:ne["a"],VTabItem:se["a"],VTabs:ae["a"],VTabsItems:oe["a"]});var ce={name:"App",components:{VideoView:g,MenuBar:E,Tabs:ie},data:function(){return{contents_style:{height:document.documentElement.clientHeight+"px"}}},mounted:function(){this.$store.commit("SET_NAME")}},ue=ce,le=(n("6d0c"),Object(m["a"])(ue,a,o,!1,null,"49d44023",null)),fe=le.exports,me=n("9483");Object(me["a"])("".concat("/WebApp/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("d3b7");var de=n("8c4f"),ge=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},he=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home"},[s("img",{attrs:{alt:"Vue logo",src:n("cf05")}})])}],pe={name:"Home"},_e=pe,ve=Object(m["a"])(_e,ge,he,!1,null,null,null),be=ve.exports;s["a"].use(de["a"]);var Ee=[{path:"/",name:"Home",component:be},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],Se=new de["a"]({routes:Ee}),ye=Se,we=(n("99af"),n("4160"),n("25f0"),n("159b"),n("59ca"));n("66ce");s["a"].use(u["a"]);var Ce={apiKey:"AIzaSyBtnFzSNMp30pWM2CNva-U9ZM1sdE8lzts",authDomain:"fir-ca8ad.firebaseapp.com",databaseURL:"https://fir-ca8ad.firebaseio.com",projectId:"fir-ca8ad",storageBucket:"fir-ca8ad.appspot.com",messagingSenderId:"371247898053",appId:"1:371247898053:web:a657c9fb4898a89947bfac",measurementId:"G-BWCDY22QJR"};we["initializeApp"](Ce);var Ae=new u["a"].Store({state:{hrl_url:"",message_timer:null,last_timestamp:0,messages:[],user_name:""},getters:{getMessages:function(e){return e.messages},getHlsUrl:function(e){return e.hrl_url}},mutations:{ADD_MESSAGES:function(e,t){e.messages=e.messages.concat(t)},SET_NAME:function(e){e.user_name||(e.user_name=Math.random().toString(36).substring(7))},SET_HLS_URL:function(e,t){e.hrl_url=t}},actions:{LOAD_MESSAGES:function(e){var t=e.state,n=e.commit;return console.log("load message"),we["database"]().ref("/messages").orderByChild("time").once("value").then((function(e){var s=[];return e.forEach((function(e){var n=e.val(),a=n.user===t.user_name;a&&(n.isMine=!0),s.push(n)})),t.last_timestamp=s[s.length-1].time,n("ADD_MESSAGES",s),e}))},SET_MESSAGE_EVENT:function(e){var t=e.state,n=e.commit;t.message_timer=setInterval((function(){we["database"]().ref("/messages").orderByChild("time").startAt(t.last_timestamp+1).once("value").then((function(e){var s=[];e.forEach((function(e){var n=e.val(),a=n.user===t.user_name;a||s.push(e.val())})),s.length>0&&(console.log("UU",s.length,s[0]),t.last_timestamp=s[s.length-1].time,n("ADD_MESSAGES",s))}))}),5e3)},DELETE_MESSAGE_EVENT:function(e){clearTimeout(e.message_timer),e.message_timer=null},SEND_MESSAGE:function(e,t){var n=e.commit,s=e.state,a="/"+we["database"]().ref("/messages").child("data").push().key,o={user:s.user_name,time:(new Date).getTime(),message:t},r={};r["messages/"+a]=o,we["database"]().ref().update(r,(function(e){return console.log("SEND_RESULT",e),e||n("ADD_MESSAGES",Object(c["a"])(Object(c["a"])({},o),{},{isMine:!0})),e}))},LOAD_HLS_URL:function(e){var t=e.commit;return we["database"]().ref("/").once("value").then((function(e){var n=e.val()&&e.val().hrl_url||"";return t("SET_HLS_URL",n),n}))}},modules:{}}),Me=n("f309");s["a"].use(Me["a"]);var je=new Me["a"]({});s["a"].config.productionTip=!1,new s["a"]({router:ye,store:Ae,vuetify:je,render:function(e){return e(fe)}}).$mount("#app")},"59fc":function(e,t,n){"use strict";var s=n("2918"),a=n.n(s);a.a},"6d0c":function(e,t,n){"use strict";var s=n("1104"),a=n.n(s);a.a},"6eca":function(e,t,n){},8505:function(e,t,n){},"97aa":function(e,t,n){"use strict";var s=n("d3f5"),a=n.n(s);a.a},a099:function(e,t,n){},b779:function(e,t,n){},cdde:function(e,t,n){"use strict";var s=n("6eca"),a=n.n(s);a.a},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"},d3f5:function(e,t,n){},fc6a7:function(e,t,n){},fd34:function(e,t,n){"use strict";var s=n("a099"),a=n.n(s);a.a}});
//# sourceMappingURL=app.522c007f.js.map